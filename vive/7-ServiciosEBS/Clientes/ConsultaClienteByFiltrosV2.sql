SELECT DISTINCT hp.party_id, hp.PARTY_NUMBER , hp.party_name                        AS NOMBRE, hp.creation_date                     AS fecha_creacion,hp.jgzz_fiscal_code                  AS NIT , hp.address1                          AS DIRECCION , hp.city                              AS CIUDAD , hp.state                             AS DEPARTAMENTO,hp.url                               AS URL , hp.email_address                     AS CORREO , hp.PRIMARY_PHONE_NUMBER              AS TELEFONO, cod.CLASS_CODE                       AS TIPO_CLIENTE, IMCM_DIAS_SIN_VISITA.DIAS_SIN_VISITA AS diasSinVisiat, fnd_user.USER_NAME                   AS FND_NAME, JTF_RS_RESOURCE_EXTNS.USER_NAME      AS ASESOR_INPUT FROM ar.hz_parties hp INNER JOIN hz_code_assignments cod ON (cod.owner_table_id = hp.party_id) LEFT OUTER JOIN IMCM_DIAS_SIN_VISITA ON (hp.PARTY_ID = IMCM_DIAS_SIN_VISITA.PARTY_ID) LEFT OUTER JOIN fnd_user    ON (fnd_user.user_id     = IMCM_DIAS_SIN_VISITA.user_id), JTF_RS_RESOURCE_EXTNS WHERE party_type         = 'ORGANIZATION' AND hp.ATTRIBUTE16       = 'C' AND cod.owner_table_name = 'HZ_PARTIES' AND cod.class_category   = 'Estado del Cliente' AND UPPER(party_name) LIKE #v_nombreEmpresa AND jgzz_fiscal_code LIKE #v_nit AND DECODE(fnd_user.user_name, NULL, ' ',UPPER(fnd_user.user_name)) LIKE #v_asesor AND UPPER(cod.CLASS_CODE) LIKE #v_tipo_cliente AND DECODE(IMCM_DIAS_SIN_VISITA.SEMAFORO, NULL, ' ',IMCM_DIAS_SIN_VISITA.SEMAFORO) LIKE #v_semaforo AND JTF_RS_RESOURCE_EXTNS.USER_NAME LIKE #v_asesor1